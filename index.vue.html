<!doctype <!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>CNX 출퇴근</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- <link rel="stylesheet" type="text/css" media="screen" href="main.css" /> -->
  <link rel="icon" href="img/favicon.ico">
  <link rel="apple-touch-icon" sizes="180x180" href="/img/favicon/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/img/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/img/favicon/favicon-16x16.png">
  <link rel="manifest" href="/img/favicon/site.webmanifest">
  <link rel="mask-icon" href="/img/favicon/safari-pinned-tab.svg" color="#5bbad5">
  <meta name="msapplication-TileColor" content="#b91d47">
  <meta name="theme-color" content="#ffffff">

  <!-- vue -->
  <link href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700,900|Material+Icons" rel="stylesheet">
  <link href="/css/vue.1.3.12.css" rel="stylesheet">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, minimal-ui">

</head>

<body>
  <div id="app">
    <v-app>
      <v-content>
        <v-container>
          <h2>52시간 관리</h2>
          <v-form>
            <v-layout row wrap justify-space-between>
                <v-flex xs6>
                    <v-text-field prepend-icon="people" name="manager" label="소속" id="team"></v-text-field>
                  </v-flex>
              <v-flex xs6>
                <v-text-field prepend-icon="person" name="name" label="이름" id="name"></v-text-field>
              </v-flex>
            </v-layout>
            <v-layout row wrap>
              <v-flex xs6>
                <v-menu ref="menu1" :close-on-content-click="false" v-model="menu1" :nudge-right="40" lazy transition="scale-transition"
                  offset-y full-width max-width="290px" min-width="290px">
                  <v-text-field slot="activator" v-model="dateFormatted" label="Date" hint="MM/DD/YYYY format"
                    persistent-hint prepend-icon="event" @blur="date = parseDate(dateFormatted)"></v-text-field>
                  <v-date-picker v-model="date" no-title @input="menu1 = false"></v-date-picker>
                </v-menu>
              
              </v-flex>
              <v-flex xs6>
                <v-menu ref="menu" :close-on-content-click="false" v-model="menu2" :nudge-right="40" :return-value.sync="time"
                  lazy transition="scale-transition" offset-y full-width max-width="290px" min-width="290px">
                  <v-text-field slot="activator" v-model="time" label="Picker in menu" prepend-icon="access_time"
                    readonly></v-text-field>
                  <v-time-picker v-if="menu2" v-model="time" full-width @change="$refs.menu.save(time)"></v-time-picker>
                </v-menu>
              </v-flex>
            </v-layout>
            <v-layout row wrap>
              <P>퇴근 날짜 시간: {{ date }} {{ time }}</P>
            </v-layout>
          </v-form>


        </v-container>

      </v-content>
    </v-app>
  </div>

  <script src="/js/vue.2.5.17.js"></script>
  <script src="/js/vuetify.1.3.12.js"></script>
  <script>
    new Vue({
      el: '#app',
      data: vm => ({ 
        date: new Date().toISOString().substr(0, 10),
        time: new Date().toISOString().substr(11, 8),
        dateFormatted: vm.formatDate(new Date().toISOString().substr(0, 10)),
        menu1: false,
        menu2: false,
        modal2: false
      }),

      computed: {
        computedDateFormatted() {
          return this.formatDate(this.date)
        }
      },

      watch: {
        date(val) {
          this.dateFormatted = this.formatDate(this.date)
        }
      },

      methods: {
        formatDate(date) {
          if (!date) return null

          const [year, month, day] = date.split('-')
          return `${month}/${day}/${year}`
        },
        parseDate(date) {
          if (!date) return null

          const [month, day, year] = date.split('/')
          return `${year}-${month.padStart(2, '0')}-${day.padStart(2, '0')}`
        }
      }
    })
  </script>

</body>

</html>