<!doctype <!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>52 Hours</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, minimal-ui">

  <!-- <link rel="stylesheet" type="text/css" media="screen" href="main.css" /> -->
  <link rel="icon" href="/img/favicon/favicon.ico">
  <link rel="apple-touch-icon" sizes="180x180" href="/img/favicon/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/img/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/img/favicon/favicon-16x16.png">
  <link rel="manifest" href="/img/favicon/site.webmanifest">
  <link rel="mask-icon" href="/img/favicon/safari-pinned-tab.svg" color="#5bbad5">
  <meta name="msapplication-TileColor" content="#b91d47">
  <meta name="theme-color" content="#ffffff">

  <!-- Material -->
  <link href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700,900|Material+Icons" rel="stylesheet">
  <!-- vue -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/vuetify/1.3.12/vuetify.min.css" rel="stylesheet">

  <style>
    [v-cloak] {
      display: none;
    }
    iframe {
      width: 100%;
      height: auto;
    }

  </style>
</head>

<body>
  <div id="app" v-cloak>
    <v-app>
      <v-content>
        <v-container>
          <v-layout row wrap my-2 justify-space-between>
            <v-flex xs6>
              <h2>52 ÏãúÍ∞Ñ</h2>
            </v-flex>
            <v-flex xs6 text-xs-right>
              <a :href="teamOriginalFormURL">{{ managerName }} ÌåÄ Í∏∞Ï°¥ ÌéòÏù¥ÏßÄÎ°ú Í∞ÄÍ∏∞</a>
            </v-flex>
          </v-layout>

          <div>
            <v-form>
              <v-layout row wrap justify-space-between>
                <v-flex sm6 xs12 px-3>
                  <!-- Manager -->
                  <v-select v-model="manager"  :dense="true" prepend-icon="people" name="manager" :rules="inputRules.manager" :items="teamList"
                    label="ÏÜåÏÜç" required></v-select>
                </v-flex>
                <v-flex sm6 xs12 px-3>
                  <!-- Username -->
                  <v-text-field v-model="username" prepend-icon="person" name="username" :rules="inputRules.username"
                    label="Ïù¥Î¶Ñ" id="username" required></v-text-field>
                </v-flex>
              </v-layout>

              <v-layout row wrap>
                <v-flex xs6 px-3>
                  <!-- Date -->
                  <v-menu ref="menu1" :close-on-content-click="false" v-model="menu1" :nudge-right="40" lazy transition="scale-transition"
                    offset-y full-width max-width="290px" min-width="290px">
                    <v-text-field readonly slot="activator" v-model="date" label="ÎÇ†Ïßú" persistent-hint prepend-icon="event"></v-text-field>
                    <v-date-picker v-model="date" :show-current="today" no-title @input="menu1 = false"></v-date-picker>
                  </v-menu>
                </v-flex>
                <v-layout row wrap>
                  <v-flex xs6 px-3>
                    <!-- Start time -->
                    <working-time name="Ï∂úÍ∑º" label-name="Ï∂úÍ∑º" v-model="startTime"></working-time>
                  </v-flex>
                  <v-flex xs6 px-3>
                    <!-- End time -->
                    <working-time name="Ìá¥Í∑º" label-name="Ìá¥Í∑º" v-model="endTime"></working-time>
                  </v-flex>
                </v-layout>
              </v-layout>

              <v-layout row wrap my-3>
                <v-flex xs12 text-xs-right>
                  <!-- Submit -->
                  <v-btn color="primary" @click="confirmDialog = true">Ï†ú Ï∂ú</v-btn>
                </v-flex>
              </v-layout>
            </v-form>
          </div>
        </v-container>

        <v-divider></v-divider>
        
        <!-- History -->
        <v-container grid-list-xs v-if="history.length > 0">
            <h3>History</h3>
            <v-layout row wrap my-3>
              <div>
                <v-chip v-for="d in history" :key="d.id">{{ d }}</v-chip>
              </div>
            </v-layout>
        </v-container>
      </v-content>

      <!-- Dialogs-->
      <v-dialog v-model="confirmDialog" max-width="290">
        <v-card>
          <v-card-title class="title">Ï†úÏ∂ú ÌïòÏãúÍ≤†ÏäµÎãàÍπå?</v-card-title>
          <v-card-text class="text-xs-center">
            <p class="body-2">{{ date }}</p>
            <p class="body-2">{{ startTime }} ~ {{ endTime }}</p>
            <p class="body-2">Í∑ºÎ¨¥ÏãúÍ∞Ñ: {{ workingtime }}</p>
            <p class="body-2">Ï¥àÍ≥ºÏãúÍ∞Ñ: {{ overtime }}</p>
          </v-card-text>
          <v-card-actions>
            <v-spacer></v-spacer>
            <v-btn flat="flat" @click="confirmDialog = false">
              CANCEL
            </v-btn>
            <v-btn color="primary" flat="flat" @click="confirmDialog = false; submit()">
              OK
            </v-btn>
          </v-card-actions>
        </v-card>
      </v-dialog>
      <v-dialog v-model="completeDialog" max-width="500px">
          <v-card>
            <v-card-title class="title">
              <span>Go home üëè</span>
            </v-card-title>
            <v-card-text class="text-xs-center">
                <iframe height="200px" id="submitresult" name="submitresult" scrolling="yes">
                  <p>Please wait...</p>
                </iframe>
            </v-card-text>
            <v-card-actions>
              <v-spacer></v-spacer>
              <v-btn color="primary" flat @click="completeDialog=false">Close</v-btn>
            </v-card-actions>
          </v-card>
        </v-dialog>
    </v-app>
  </div>

  <!-- Timepicker Component Template -->
  <script type="text/x-template" id="working-time-template">
    <v-menu ref="menu" :close-on-content-click="false" v-model="timemodal" :nudge-right="40" :return-value.sync="time"
      lazy transition="scale-transition" offset-y full-width max-width="290px" min-width="290px"
      @input="$emit('input', time)">
      <v-text-field slot="activator" v-model="time" :label="labelName" prepend-icon="access_time" readonly></v-text-field>
      <v-time-picker v-if="timemodal" v-model="time" full-width @change="$refs.menu.save(time)"></v-time-picker>
    </v-menu>
  </script>

  <script src="/js/cookies.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.5.17/vue.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/vuetify/1.3.12/vuetify.min.js"></script>
  <script src="/js/vue.components.js"></script>
  <script src="/js/vue.app.js"></script>

</body>

</html>